<div th:fragment="modalFormulario" class="modal fade" id="modalFormulario" tabindex="-1" role="dialog"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-dark text-white">
                <h5 class="modal-title">
                    <i class="fa fa-user mr-2"></i>
                    <span
                        th:text="${usuario.idPersona == null} ? 'AGREGAR NUEVO USUARIO' : 'MODIFICAR DATOS DEL USUARIO'"></span>
                </h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body py-4">
                <form id="formulario" class="form-horizontal" th:object="${usuario}" autocomplete="off">
                    <input type="hidden" th:field="*{idPersona}" id="idPersona">
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="dni">
                            DNI <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <input type="text" th:field="*{dni}" class="form-control" id="dni" maxlength="8"
                                minlength="8" th:classappend="${#fields.hasErrors('dni')} ? 'is-invalid' : ''"
                                pattern="^(?!00)[0-9]{8}$" required
                                title="Ingrese el número de DNI del usuario, no puede comenzar con '00' y debe tener 8 dígitos">
                            <div class="invalid-feedback" th:errors="*{dni}"></div>
                        </div>
                    </div>
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="nombres">
                            NOMBRES <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <input type="text" th:field="*{nombres}" class="form-control" id="nombres" maxlength="40"
                                minlength="2" th:classappend="${#fields.hasErrors('nombres')} ? 'is-invalid' : ''"
                                required pattern="^[a-zA-ZáéíóúÁÉÍÓÚñÑ ]+$"
                                title="Ingrese los nombres del usuario, entre 2 y 40 letras">
                            <div class="invalid-feedback" th:errors="*{nombres}"></div>
                        </div>
                    </div>
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="apellidos">
                            APELLIDOS <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <input type="text" th:field="*{apellidos}" class="form-control" id="apellidos"
                                maxlength="75" minlength="2" required pattern="^[a-zA-ZáéíóúÁÉÍÓÚñÑ ]+$"
                                th:classappend="${#fields.hasErrors('apellidos')} ? 'is-invalid' : ''"
                                title="Ingrese los apellidos del usuario, entre 2 y 75 letras">
                            <div class="invalid-feedback" th:errors="*{apellidos}"></div>
                        </div>
                    </div>
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="rol">
                            ROL <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <select th:field="*{rol}" class="form-control text-capitalize" required
                                th:classappend="${#fields.hasErrors('rol')} ? 'is-invalid' : ''"
                                title="Seleccione el rol del usuario">
                                <option value="">-- Seleccione --</option>
                                <option value="ADMIN">Administrador</option>
                                <option value="RECEPCIONISTA">Recepcionista</option>
                                <option value="VETERINARIO">Veterinario</option>
                                <option value="DUEÑO">Dueño</option>
                            </select>
                            <div class="invalid-feedback" th:errors="*{rol}"></div>
                        </div>
                    </div>
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="numeroCelular">
                            Nº CELULAR <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <input type="text" th:field="*{numeroCelular}" class="form-control" id="numeroCelular"
                                maxlength="9" minlength="9" pattern="^9[0-9]{8}$" required
                                th:classappend="${#fields.hasErrors('numeroCelular')} ? 'is-invalid' : ''"
                                title="Ingrese el número de celular del usuario, debe empezar con el número 9 y tener 9 dígitos">
                            <div class="invalid-feedback" th:errors="*{numeroCelular}"></div>
                        </div>
                    </div>
                    <div class="form-group row align-items-center">
                        <label class="col-md-3 label-align text-md-right" for="correo">
                            CORREO <span class="required text-danger">*</span>
                        </label>
                        <div class="col-md-7">
                            <input type="email" th:field="*{correo}" class="form-control" id="correo" maxlength="100"
                                minlength="9" required title="Ingrese un correo válido"
                                th:classappend="${#fields.hasErrors('correo')} ? 'is-invalid' : ''">
                            <div class="invalid-feedback" th:errors="*{correo}"></div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer bg-light">
                <button type="button" class="btn btn-outline-danger" data-dismiss="modal">
                    <i class="fa fa-times mr-1"></i> CANCELAR
                </button>
                <button type="button" class="btn btn-success btn-guardar border border-dark"
                    onclick="guardarData('/usuarios/guardar')">
                    <i class="fa fa-save ml-1"></i>
                    <span th:text="${usuario.idPersona == null} ? ' GUARDAR' : ' ACTUALIZAR'"></span>
                </button>
            </div>
        </div>
    </div>
</div>